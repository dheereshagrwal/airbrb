{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vohra\\\\OneDrive\\\\Desktop\\\\ass3-master (1)\\\\ass3-master\\\\frontend\\\\src\\\\views\\\\MyListings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Card from '../components/Card';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst name = localStorage.getItem('name');\n\nfunction MyListings() {\n  _s();\n\n  const [listings, setlistings] = useState([]);\n  const [data, setdata] = useState([]);\n  useEffect(() => {\n    const fn = async () => {\n      let resp = await axios.get(`http://localhost:5005/listings`);\n\n      if (resp.status === 200) {\n        let ls = [];\n        console.log(name);\n\n        for (let i = 0; i < resp.data.listings.length; i++) {\n          if (resp.data.listings[i].owner === name) {\n            ls.push(resp.data.listings[i]);\n          }\n        }\n\n        console.log(resp.data.listings);\n        console.log(ls);\n        setlistings([...ls]);\n      }\n    };\n\n    fn();\n  }, []);\n  useEffect(() => {\n    const fn = async () => {\n      let dd = [];\n      await Promise.all(listings.map(async (e, i) => {\n        let res = await axios.get(`http://localhost:5005/listings/${e.id}`);\n\n        if (res.status === 200) {\n          dd.push(res.data.listing);\n          dd[i].id = e.id;\n        }\n      }));\n      setdata([...dd]);\n    };\n\n    fn();\n  }, [listings]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"100px\"\n    },\n    children: listings.map((e, i) => {\n      return /*#__PURE__*/_jsxDEV(Card, {\n        thumbnail: e.thumbnail,\n        title: e.title,\n        price: e.price,\n        reviews: e.reviews,\n        address: e.address,\n        control: 2\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 22\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MyListings, \"t4apVs/pa5T/zAAS/nOzTAnXy2k=\");\n\n_c = MyListings;\nexport default MyListings;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyListings\");","map":{"version":3,"sources":["C:/Users/vohra/OneDrive/Desktop/ass3-master (1)/ass3-master/frontend/src/views/MyListings.js"],"names":["React","useState","useEffect","Card","axios","name","localStorage","getItem","MyListings","listings","setlistings","data","setdata","fn","resp","get","status","ls","console","log","i","length","owner","push","dd","Promise","all","map","e","res","id","listing","marginTop","thumbnail","title","price","reviews","address"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport Card from '../components/Card';\r\nimport axios from 'axios';\r\n\r\nconst name = localStorage.getItem('name');\r\n\r\nfunction MyListings() {\r\n  const [listings, setlistings] = useState([]);\r\n  const [data, setdata] = useState([])\r\n  \r\n  useEffect(() => {\r\n    const fn = async() => {\r\n      let resp = await axios.get(`http://localhost:5005/listings`);\r\n      if(resp.status === 200){\r\n        let ls = [];\r\n        console.log(name)\r\n        for(let i=0; i<resp.data.listings.length; i++){\r\n            if(resp.data.listings[i].owner===name){\r\n                ls.push(resp.data.listings[i]);\r\n            }\r\n            \r\n        }\r\n        console.log(resp.data.listings)\r\n        console.log(ls);\r\n        setlistings([...ls]);\r\n      }\r\n    }\r\n    fn();\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fn = async() =>{\r\n      let dd = []\r\n      await Promise.all(listings.map(async (e, i)=>{\r\n        let res = await axios.get(`http://localhost:5005/listings/${e.id}`);\r\n        if(res.status === 200){\r\n          dd.push(res.data.listing);\r\n          dd[i].id = e.id;\r\n        }\r\n      }))\r\n      setdata([...dd]);\r\n    }\r\n    fn();\r\n  }, [listings])\r\n\r\n\r\n    return (\r\n        <div style={{marginTop:\"100px\"}}>\r\n            {listings.map((e, i)=>{\r\n              return(<Card key={i} thumbnail={e.thumbnail} title={e.title} price={e.price} reviews={e.reviews} address={e.address} control={2}/>)})}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyListings\r\n"]},"metadata":{},"sourceType":"module"}